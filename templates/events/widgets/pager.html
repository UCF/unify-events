{% load widgets %}
{% if paginator.num_pages > 1 %}
  {% if not 1 in range %}
  <ul class="pagination justify-content-center">
    <li class="page-item">
      <a class="page-link" href="{{ url }}page=1">1</a>
    </li>
  </ul>
  {% endif %}
  <ul class="pagination justify-content-center">
    {% if current_page.has_previous %}
    <li class="page-item">
      <a class="page-link" href="{{ url }}page={{ current_page.previous_page_number }}">
        <span class="fas fa-chevron-left" aria-hidden="true"></span> Previous
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">
        <span class="fas fa-chevron-left" aria-hidden="true"></span> Previous
      </a>
    </li>
    {% endif %}

    {% for page in range %}
    <li class="page-item{% if page == current_page.number %} active{% endif %}">
      <a class="page-link" href="{{ url }}page={{ page }}">{{ page }}</a>
    </li>
    {% endfor %}

    {% if current_page.has_next %}
    <li class="page-item">
      <a class="page-link" href="{{ url }}page={{ current_page.next_page_number }}">
        Next <span class="fas fa-chevron-right" aria-hidden="true"></span>
      </a>
    </li>
    {% else %}
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">
        Next <span class="fas fa-chevron-right" aria-hidden="true"></span>
      </a>
    </li>
    {% endif %}
  </ul>
  {% if not paginator.num_pages in range %}
  <ul class="pagination justify-content-center">
    <li class="page-item">
      <a class="page-link" href="{{ url }}page={{ paginator.num_pages }}">{{ paginator.num_pages }}</a>
    </li>
  </ul>
  {% endif %}
{% endif %}
