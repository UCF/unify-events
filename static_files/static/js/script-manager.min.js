((e,t)=>{"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)})(this,function(l){function s(e,t){this.$element=l(e),this.options=l.extend({},l.fn.typeahead.defaults,t),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=l(this.options.menu),this.$appendTo=this.options.appendTo?l(this.options.appendTo):null,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.value=this.$element.val()||this.$element.text()}s.prototype={constructor:s,select:function(){var e=this.$menu.find(".active").data("value");return this.$element.data("active",e),(this.autoSelect||e)&&(e=(e=this.updater(e))||"",this.$element.val(this.displayText(e)||e).text(this.displayText(e)||e).change(),this.afterSelect(e)),this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var e,t=l.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),i="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;this.shown?e=this.$menu:this.$appendTo?(e=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(e=this.$menu.insertAfter(this.$element),this.hasSameParent=!0),this.hasSameParent||(e.css("position","fixed"),n=this.$element.offset(),t.top=n.top,t.left=n.left);var n=l(e).parent().hasClass("dropup")?"auto":t.top+t.height+i,i=l(e).hasClass("dropdown-menu-right")?"auto":t.left;return e.css({top:n,left:i}).show(),!0===this.options.fitToElement&&e.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){if(this.query=null!=e?e:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;e=l.proxy(function(){l.isFunction(this.source)?this.source(this.query,l.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(e,this.delay)},process:function(e){var t=this;return e=l.grep(e,function(e){return t.matcher(e)}),(e=this.sorter(e)).length||this.options.addItem?(0<e.length?this.$element.data("active",e[0]):this.$element.data("active",null),this.options.addItem&&e.push(this.options.addItem),("all"==this.options.items?this.render(e):this.render(e.slice(0,this.options.items))).show()):this.shown?this.hide():this},matcher:function(e){return~this.displayText(e).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],s=[];t=e.shift();){var a=this.displayText(t);(a.toLowerCase().indexOf(this.query.toLowerCase())?~a.indexOf(this.query)?n:s:i).push(t)}return i.concat(n,s)},highlighter:function(e){var t,i,n,s=l("<div></div>"),a=this.query,o=e.toLowerCase().indexOf(a.toLowerCase()),r=a.length;if(0===r)return s.text(e).html();for(;-1<o;)t=e.substr(0,o),n=e.substr(o,r),i=e.substr(o+r),n=l("<strong></strong>").text(n),s.append(document.createTextNode(t)).append(n),o=(e=i).toLowerCase().indexOf(a.toLowerCase());return s.append(document.createTextNode(e)).html()},render:function(i){var n=this,s=this,a=!1,o=[],r=n.options.separator;return l.each(i,function(e,t){0<e&&t[r]!==i[e-1][r]&&o.push({__type:"divider"}),!t[r]||0!==e&&t[r]===i[e-1][r]||o.push({__type:"category",name:t[r]}),o.push(t)}),i=l(o).map(function(e,t){var i;return("category"==(t.__type||!1)?l(n.options.headerHtml).text(t.name):"divider"==(t.__type||!1)?l(n.options.headerDivider):(i=s.displayText(t),(e=l(n.options.item).data("value",t)).find("a").html(n.highlighter(i,t)),i==s.$element.val()&&(e.addClass("active"),s.$element.data("active",t),a=!0),e))[0]}),this.autoSelect&&!a&&(i.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",i.first().data("value"))),this.$menu.html(i),this},displayText:function(e){return void 0!==e&&void 0!==e.name&&e.name||e},next:function(e){var t;(t=(t=this.$menu.find(".active").removeClass("active").next()).length?t:l(this.$menu.find("li")[0])).addClass("active")},prev:function(e){var t;(t=(t=this.$menu.find(".active").removeClass("active").prev()).length?t:this.$menu.find("li").last()).addClass("active")},listen:function(){this.$element.on("focus",l.proxy(this.focus,this)).on("blur",l.proxy(this.blur,this)).on("keypress",l.proxy(this.keypress,this)).on("input",l.proxy(this.input,this)).on("keyup",l.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",l.proxy(this.keydown,this)),this.$menu.on("click",l.proxy(this.click,this)).on("mouseenter","li",l.proxy(this.mouseenter,this)).on("mouseleave","li",l.proxy(this.mouseleave,this)).on("mousedown",l.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown)switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}},keydown:function(e){this.suppressKeyPressRepeat=~l.inArray(e.keyCode,[40,38,9,13,27]),this.shown||40!=e.keyCode?this.move(e):this.lookup()},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},input:function(e){var t=this.$element.val()||this.$element.text();this.value!==t&&(this.value=t,this.lookup())},keyup:function(e){if(!this.destroyed)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this.shown&&this.select();break;case 27:this.shown&&this.hide()}},focus:function(e){this.focused||(this.focused=!0,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(e){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1)},click:function(e){e.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),l(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(e){this.mouseddown=!0,this.$menu.one("mouseup",function(e){this.mouseddown=!1}.bind(this))}};var e=l.fn.typeahead;l.fn.typeahead=function(i){var n=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var e=l(this),t=e.data("typeahead");t||e.data("typeahead",t=new s(this,"object"==typeof i&&i)),"string"==typeof i&&t[i]&&(1<n.length?t[i].apply(t,Array.prototype.slice.call(n,1)):t[i]())})},l.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:l.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},l.fn.typeahead.Constructor=s,l.fn.typeahead.noConflict=function(){return l.fn.typeahead=e,this},l(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var t=l(this);t.data("typeahead")||t.typeahead(t.data())})}),(()=>{function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function a(n){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?t(Object(s),!0).forEach(function(e){var t,i;t=n,i=s[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))})}return n}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){var t,i;if(Array.isArray(e)||(e=((e,t)=>{var i;if(e)return"string"==typeof e?r(e,t):"Map"===(i="Object"===(i=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0})(e)))return t=0,{s:i=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,a=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function S(e,t){var i;return null===e?null:"number"!=typeof t.step?e:(i=e%(60*t.step),30*t.step<=(i-=(t.minTime||0)%(60*t.step))?e+=60*t.step-i:e-=i,i=t,(t=e)==O&&i.show2400?t:t%O)}var e,O=86400,l={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:S,scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},c={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},m=(()=>{function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,n=s;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");i=s.extractAttrOptions(e,Object.keys(l));this.settings=this.parseSettings(a(a(a({},l),t),i))}var e,t,i;return e=s,i=[{key:"extractAttrOptions",value:function(e,t){var i,n={},s=o(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;a in e.dataset&&(n[a]=e.dataset[a])}}catch(e){s.e(e)}finally{s.f()}return n}}],(t=[{key:"time2int",value:function(e){if(""===e||null==e)return null;if(e instanceof Date)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");e=e.match(/^(([^0-9]*))?([0-9]?[0-9])(\W?([0-5][0-9]))?(\W+([0-5][0-9]))?(([^0-9]*))$/);if(!e)return null;var t=parseInt(+e[3],10),i=e[2]||e[9],n=t,s=+e[5]||0,a=+e[7]||0;if(i||2!=e[3].length||"0"!=e[3][0]||(i="am"),t<=12&&i)e=(i=i.trim())==this.settings.lang.pm||i==this.settings.lang.PM,n=12==t?e?12:0:t+(e?12:0);else if(3600*t+60*s+a>=O+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;n=t%24}e=3600*n+60*s+a;return e=t<12&&!i&&this.settings._twelveHourTime&&this.settings.scrollDefault&&(n=e-this.settings.scrollDefault())<0&&O/-2<=n?(e+O/2)%O:e}},{key:"parseSettings",value:function(e){var t,i=this;if(e.lang=a(a({},c),e.lang),(this.settings=e).minTime&&(e.minTime=this.time2int(e.minTime)),e.maxTime&&(e.maxTime=this.time2int(e.maxTime)),e.listWidth&&(e.listWidth=this.time2int(e.listWidth)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=this.time2int(e.durationTime)),"now"==e.scrollDefault?e.scrollDefault=function(){return e.roundingFunction(i.time2int(new Date),e)}:e.scrollDefault&&"function"!=typeof e.scrollDefault?(t=e.scrollDefault,e.scrollDefault=function(){return e.roundingFunction(i.time2int(t),e)}):e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)}),"string"==typeof e.timeFormat&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),!1===e.showOnFocus&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),e.disableTimeRanges||(e.disableTimeRanges=[]),0<e.disableTimeRanges.length){for(var n in e.disableTimeRanges)e.disableTimeRanges[n]=[this.time2int(e.disableTimeRanges[n][0]),this.time2int(e.disableTimeRanges[n][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(n=e.disableTimeRanges.length-1;0<n;n--)e.disableTimeRanges[n][0]<=e.disableTimeRanges[n-1][1]&&(e.disableTimeRanges[n-1]=[Math.min(e.disableTimeRanges[n][0],e.disableTimeRanges[n-1][0]),Math.max(e.disableTimeRanges[n][1],e.disableTimeRanges[n-1][1])],e.disableTimeRanges.splice(n,1))}return e}}])&&n(e.prototype,t),i&&n(e,i),s})();e=function(w){var b={},k={init:function(s){return this.each(function(){var e=w(this),t=new m(this,s),i=t.settings;if(b=i.lang,e.data("timepicker-settings",i),e.data("timepicker-obj",t),e.addClass("ui-timepicker-input"),i.useSelect)o(e);else{if(e.prop("autocomplete","off"),i.showOn)for(var n in i.showOn)e.on(i.showOn[n]+".timepicker",k.show);e.on("change.timepicker",c),e.on("keydown.timepicker",h),e.on("keyup.timepicker",p),i.disableTextInput&&e.on("keydown.timepicker",d),e.on("cut.timepicker",p),e.on("paste.timepicker",p),c.call(e.get(0),null,"initial")}})},show:function(e){var t=w(this),i=t.data("timepicker-settings"),n=t.data("timepicker-obj");if(e&&e.preventDefault(),i.useSelect)t.data("timepicker-list").focus();else{$(t)&&t.blur();var s,e=t.data("timepicker-list");if(!t.prop("readonly"))if(e&&0!==e.length&&"function"!=typeof i.durationTime||(o(t),e=t.data("timepicker-list")),!a(e))return t.data("ui-timepicker-value",t.val()),T(t,e),k.hide(),"number"==typeof i.listWidth&&e.width(t.outerWidth()*i.listWidth),e.show(),s={},i.orientation.match(/r/)?s.left=t.offset().left+t.outerWidth()-e.outerWidth()+parseInt(e.css("marginLeft").replace("px",""),10):i.orientation.match(/l/)?s.left=t.offset().left+parseInt(e.css("marginLeft").replace("px",""),10):i.orientation.match(/c/)&&(s.left=t.offset().left+(t.outerWidth()-e.outerWidth())/2+parseInt(e.css("marginLeft").replace("px",""),10)),"t"==(i.orientation.match(/t/)||!i.orientation.match(/b/)&&t.offset().top+t.outerHeight(!0)+e.outerHeight()>w(window).height()+w(window).scrollTop()?"t":"b")?(e.addClass("ui-timepicker-positioned-top"),s.top=t.offset().top-e.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)):(e.removeClass("ui-timepicker-positioned-top"),s.top=t.offset().top+t.outerHeight()+parseInt(e.css("marginTop").replace("px",""),10)),e.offset(s),(s=e.find(".ui-timepicker-selected")).length||(null!==(n=n.time2int(u(t)))?s=l(t,e,n):i.scrollDefault&&(s=l(t,e,i.scrollDefault()))),(s=s.length&&!s.hasClass("ui-timepicker-disabled")?s:e.find("li:not(.ui-timepicker-disabled):first"))&&s.length?(n=e.scrollTop()+s.position().top-s.outerHeight(),e.scrollTop(n)):e.scrollTop(0),i.stopScrollPropagation&&w(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var t=w(this).scrollTop();w(this).scrollTop(t+e.originalEvent.deltaY)}),w(document).on("mousedown.ui-timepicker",r),w(window).on("resize.ui-timepicker",r),i.closeOnWindowScroll&&w(document).on("scroll.ui-timepicker",r),t.trigger("showTimepicker"),this}},hide:function(e){var t=w(this),i=t.data("timepicker-settings");return i&&i.useSelect&&t.blur(),w(".ui-timepicker-wrapper").each(function(){var e,t,i=w(this);a(i)&&((t=(e=i.data("timepicker-input")).data("timepicker-settings"))&&t.selectOnBlur&&x(e),i.hide(),e.trigger("hideTimepicker"))}),this},option:function(s,a){return"string"==typeof s&&void 0===a?w(this).data("timepicker-settings")[s]:this.each(function(){var e=w(this),t=e.data("timepicker-settings"),i=e.data("timepicker-obj"),n=e.data("timepicker-list");"object"==f(s)?t=w.extend(t,s):"string"==typeof s&&(t[s]=a),t=i.parseSettings(t),e.data("timepicker-settings",t),c.call(e.get(0),{type:"change"},"initial"),n&&(n.remove(),e.data("timepicker-list",!1)),t.useSelect&&o(e)})},getSecondsFromMidnight:function(){return w(this).data("timepicker-obj").time2int(u(this))},getTime:function(e){var t=w(this),i=t.data("timepicker-obj"),t=u(t);if(!t)return null;i=i.time2int(t);if(null===i)return null;e=e||new Date;t=new Date(e);return t.setHours(i/3600),t.setMinutes(i%3600/60),t.setSeconds(i%60),t.setMilliseconds(0),t},isVisible:function(){var e=this.data("timepicker-list");return!(!e||!a(e))},setTime:function(e){var t=this,i=t.data("timepicker-settings"),n=t.data("timepicker-obj");return n=(i.forceRoundTime?D:A)(n.time2int(e),i),C(t,n=e&&null===n&&i.noneOption?e:n,"initial"),c.call(t.get(0),{type:"change"},"initial"),t.data("timepicker-list")&&T(t,t.data("timepicker-list")),this},remove:function(){var e,t=this;if(t.hasClass("ui-timepicker-input"))return e=t.data("timepicker-settings"),t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),e.useSelect&&t.show(),t.removeData("timepicker-list"),this}};function a(e){e=e[0];return 0<e.offsetWidth&&0<e.offsetHeight}function o(t){var i,e=t.data("timepicker-settings"),n=t.data("timepicker-list"),s=t.data("timepicker-obj");if(n&&n.length&&(n.remove(),t.data("timepicker-list",!1)),e.useSelect?(n=w("<select />",{class:"ui-timepicker-select"}),t.attr("name")&&n.attr("name","ui-timepicker-"+t.attr("name")),i=n):(n=w("<ul />",{class:"ui-timepicker-list"}),(i=w("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(n)),e.noneOption)if(!0===e.noneOption&&(e.noneOption=e.useSelect?"Time...":"None"),w.isArray(e.noneOption))for(var a in e.noneOption)parseInt(a,10)==a&&(o=_(e.noneOption[a],e.useSelect),n.append(o));else{var o=_(e.noneOption,e.useSelect);n.append(o)}e.className&&i.addClass(e.className),null===e.minTime&&null===e.durationTime||!e.showDuration||("function"!=typeof e.step&&e.step,i.addClass("ui-timepicker-with-duration"),i.addClass("ui-timepicker-step-"+e.step));var r=e.minTime,l=("function"==typeof e.durationTime?r=s.time2int(e.durationTime()):null!==e.durationTime&&(r=e.durationTime),null!==e.minTime?e.minTime:0),c=null!==e.maxTime?e.maxTime:l+O-1,u=(c<l&&(c+=O),c===O-1&&"string"===w.type(e.timeFormat)&&e.show2400&&(c=O),e.disableTimeRanges),d=0,h=u.length,p=e.step;"function"!=typeof p&&(p=function(){return e.step});for(var a=l,f=0;a<=c;a+=60*p(++f)){var m,g,v=a,y=A(v,e);(e.useSelect?m=w("<option />",{value:y}):((m=w("<li />")).addClass(v%O<O/2?"ui-timepicker-am":"ui-timepicker-pm"),m.data("time",S(v,e)),m)).text(y),null===e.minTime&&null===e.durationTime||!e.showDuration||(y=((e,t)=>{e=Math.abs(e);var i,e=Math.round(e/60),n=[];return e<60?n=[e,b.mins]:(i=Math.floor(e/60),e=e%60,30==t&&30==e&&(i+=b.decimal+5),n.push(i),n.push(1==i?b.hr:b.hrs),30!=t&&e&&(n.push(e),n.push(b.mins))),n.join(" ")})(a-r,e.step),e.useSelect?m.text(m.text()+" ("+y+")"):((g=w("<span />",{class:"ui-timepicker-duration"})).text(" ("+y+")"),m.append(g))),d<h&&(v>=u[d][1]&&(d+=1),u[d])&&v>=u[d][0]&&v<u[d][1]&&(e.useSelect?m.prop("disabled",!0):m.addClass("ui-timepicker-disabled")),n.append(m)}i.data("timepicker-input",t),t.data("timepicker-list",i),e.useSelect?(t.val()&&n.val(D(s.time2int(t.val()),e)),n.on("focus",function(){w(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){w(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){C(t,w(this).val(),"select")}),C(t,n.val(),"initial"),t.hide().after(n)):("string"==typeof(l=e.appendTo)?l=w(l):"function"==typeof l&&(l=l(t)),l.append(i),T(t,n),n.on("mousedown click","li",function(e){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",k.show)}),$(t)||t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),w(this).addClass("ui-timepicker-selected"),x(t)&&(t.trigger("hideTimepicker"),n.on("mouseup.timepicker click.timepicker","li",function(e){n.off("mouseup.timepicker click.timepicker"),i.hide()}))}))}function _(e,t){var i,n,s;return"object"==f(e)?(i=e.label,n=e.className,s=e.value):"string"==typeof e?(i=e,s=""):w.error("Invalid noneOption value"),t?w("<option />",{value:s,class:n,text:i}):w("<li />",{class:n,text:i}).data("time",String(s))}function D(e,t){if(null!==(e=t.roundingFunction(e,t)))return A(e,t)}function r(e){e.target==window||(e=w(e.target)).closest(".ui-timepicker-input").length||e.closest(".ui-timepicker-wrapper").length||(k.hide(),w(document).unbind(".ui-timepicker"),w(window).unbind(".ui-timepicker"))}function $(e){e=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function l(e,t,i){var n;return!(!i&&0!==i)&&(e=e.data("timepicker-settings"),n=!1,i=e.roundingFunction(i,e),t.find("li").each(function(e,t){t=w(t);return"number"==typeof t.data("time")&&t.data("time")==i?(n=t,!1):void 0}),n)}function T(e,t){t.find("li").removeClass("ui-timepicker-selected");var i,n=e.data("timepicker-settings"),s=e.data("timepicker-obj").time2int(u(e));null!==s&&(console.log(s),e=l(e,t,s))&&(((i=e.offset().top-t.offset().top)+e.outerHeight()>t.outerHeight()||i<0)&&t.scrollTop(t.scrollTop()+e.position().top-e.outerHeight()),!n.forceRoundTime&&e.data("time")!==s||e.addClass("ui-timepicker-selected"))}function c(e,t){var i,n,s,a,o;"timepicker"!=t&&(i=w(this),""===this.value?C(i,null,t):(!i.is(":focus")||e&&"change"==e.type)&&(n=i.data("timepicker-settings"),null===(s=i.data("timepicker-obj").time2int(this.value))?i.trigger("timeFormatError"):(a=!1,null!==n.minTime&&null!==n.maxTime&&(s<n.minTime||s>n.maxTime)&&(a=!0),w.each(n.disableTimeRanges,function(){if(s>=this[0]&&s<this[1])return!(a=!0)}),n.forceRoundTime&&(o=n.roundingFunction(s,n))!=s&&(s=o,t=null),o=A(s,n),a?(C(i,o,"error")||e&&"change"==e.type)&&i.trigger("timeRangeError"):C(i,o,t))))}function u(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function C(e,t,i){var n,s;if(e.is("input")&&(null===t&&""==e.val()||e.val(t),n=e.data("timepicker-settings"),s=e.data("timepicker-obj"),n.useSelect)&&"select"!=i&&e.data("timepicker-list")&&e.data("timepicker-list").val(D(s.time2int(t),n)),e.data("ui-timepicker-value")!=t)return e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&e.trigger("changeTime"),1;-1==["error","initial"].indexOf(i)&&e.trigger("selectTime")}function d(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function h(e){var t=w(this),i=t.data("timepicker-list");if(!i||!a(i)){if(40!=e.keyCode)return!0;k.show.call(t.get(0)),i=t.data("timepicker-list"),$(t)||t.focus()}switch(e.keyCode){case 13:return x(t)&&(c.call(t.get(0),{type:"change"}),k.hide.apply(this)),e.preventDefault(),!1;case 38:var n=i.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&i.scrollTop(i.scrollTop()-n.outerHeight())):(i.find("li").each(function(e,t){if(0<w(t).position().top)return n=w(t),!1}),n.addClass("ui-timepicker-selected")),!1;case 40:return 0===(n=i.find(".ui-timepicker-selected")).length?(i.find("li").each(function(e,t){if(0<w(t).position().top)return n=w(t),!1}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>i.outerHeight()&&i.scrollTop(i.scrollTop()+n.outerHeight())),!1;case 27:i.find("li").removeClass("ui-timepicker-selected"),k.hide();break;case 9:k.hide();break;default:return!0}}function p(e){var t=w(this),i=t.data("timepicker-list"),n=t.data("timepicker-settings");if(!i||!a(i)||n.disableTextInput)return!0;if("paste"===e.type||"cut"===e.type)setTimeout(function(){n.typeaheadHighlight?T(t,i):i.hide()},0);else switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?T(t,i):i.hide()}}function x(e){var t=e.data("timepicker-settings"),i=null,n=e.data("timepicker-list").find(".ui-timepicker-selected");return!n.hasClass("ui-timepicker-disabled")&&(null!==(i=n.length?n.data("time"):i)&&C(e,i="string"!=typeof i?A(i,t):i,"select"),1)}function A(e,t){if("number"!=typeof e)return null;var i=parseInt(e%60),n=parseInt(e/60%60),s=parseInt(e/3600%24),a=new Date(1970,0,2,s,n,i,0);if(isNaN(a.getTime()))return null;if("function"===w.type(t.timeFormat))return t.timeFormat(a);for(var o,r,l="",c=0;c<t.timeFormat.length;c++)switch(r=t.timeFormat.charAt(c)){case"a":l+=11<a.getHours()?b.pm:b.am;break;case"A":l+=11<a.getHours()?b.PM:b.AM;break;case"g":l+=0===(o=a.getHours()%12)?"12":o;break;case"G":o=a.getHours(),l+=o=e===O?t.show2400?24:0:o;break;case"h":l+=0===(o=0!==(o=a.getHours()%12)&&o<10?"0"+o:o)?"12":o;break;case"H":o=a.getHours(),l+=9<(o=e===O?t.show2400?24:0:o)?o:"0"+o;break;case"i":l+=9<(n=a.getMinutes())?n:"0"+n;break;case"s":l+=9<(i=a.getSeconds())?i:"0"+i;break;case"\\":c++,l+=t.timeFormat.charAt(c);break;default:l+=r}return l}w.fn.timepicker=function(e){return this.length?k[e]?this.hasClass("ui-timepicker-input")?k[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==f(e)&&e?void w.error("Method "+e+" does not exist on jQuery.timepicker"):k.init.apply(this,arguments):this},w.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){var i;return null===e?null:"number"!=typeof t.step?e:(i=e%(60*t.step),30*t.step<=(i-=(t.minTime||0)%(60*t.step))?e+=60*t.step-i:e-=i,_moduloSeconds(e,t))},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}},"object"===("undefined"==typeof exports?"undefined":f(exports))&&exports&&"object"===("undefined"==typeof module?"undefined":f(module))&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(),(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)})(function(k,_){function D(){return new Date(Date.UTC.apply(Date,arguments))}function $(){var e=new Date;return D(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function e(e,t){return function(){return t!==_&&k.fn.datepicker.deprecated(t),this[e].apply(this,arguments)}}function T(e,t){k.data(e,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(t),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=k(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),null===this.o.isInline?this.isInline=!this.component&&!this.isInput:this.isInline=this.o.isInline,this.picker=k(x.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()}function l(e,t){k.data(e,"datepicker",this),this.element=k(e),this.inputs=k.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,s.call(k(this.inputs),t).on("changeDate",k.proxy(this.dateUpdated,this)),this.pickers=k.map(this.inputs,function(e){return k.data(e,"datepicker")}),this.updateDates()}t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<864e5)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(Array.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new i;return e.replace(this),e}};var t,i=function(){var e=[];return e.push.apply(e,arguments),k.extend(e,t),e};T.prototype={constructor:T,_resolveViewName:function(i){return k.each(x.viewModes,function(e,t){if(i===e||-1!==k.inArray(i,t.names))return i=e,!1}),i},_resolveDaysOfWeek:function(e){return Array.isArray(e)||(e=e.split(/[,\s]*/)),k.map(e,Number)},_check_template:function(e){try{return e===_||""===e?!1:(e.match(/[<>]/g)||[]).length<=0||0<k(e).length}catch(e){return!1}},_process_options:function(e){this._o=k.extend({},this._o,e);var t,i,n=this.o=k.extend({},this._o),e=n.language,s=(C[e]||(e=e.split("-")[0],C[e])||(e=c.language),n.language=e,n.startView=this._resolveViewName(n.startView),n.minViewMode=this._resolveViewName(n.minViewMode),n.maxViewMode=this._resolveViewName(n.maxViewMode),n.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,n.startView)),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate)&&(n.multidate=Math.max(0,n.multidate)),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7,x.parseFormat(n.format)),a=(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=x.parseDate(n.startDate,s,n.language,n.assumeNearbyYear):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=x.parseDate(n.endDate,s,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=this._resolveDaysOfWeek(n.daysOfWeekDisabled||[]),n.daysOfWeekHighlighted=this._resolveDaysOfWeek(n.daysOfWeekHighlighted||[]),n.datesDisabled=n.datesDisabled||[],Array.isArray(n.datesDisabled)||(n.datesDisabled=n.datesDisabled.split(",")),n.datesDisabled=k.map(n.datesDisabled,function(e){return x.parseDate(e,s,n.language,n.assumeNearbyYear)}),String(n.orientation).toLowerCase().split(/\s+/g)),e=n.orientation.toLowerCase(),a=k.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)});if(n.orientation={x:"auto",y:"auto"},e&&"auto"!==e)if(1===a.length)switch(a[0]){case"top":case"bottom":n.orientation.y=a[0];break;case"left":case"right":n.orientation.x=a[0]}else e=k.grep(a,function(e){return/^left|right$/.test(e)}),n.orientation.x=e[0]||"auto",e=k.grep(a,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=e[0]||"auto";n.defaultViewDate instanceof Date||"string"==typeof n.defaultViewDate?n.defaultViewDate=x.parseDate(n.defaultViewDate,s,n.language,n.assumeNearbyYear):n.defaultViewDate?(e=n.defaultViewDate.year||(new Date).getFullYear(),t=n.defaultViewDate.month||0,i=n.defaultViewDate.day||1,n.defaultViewDate=D(e,t,i)):n.defaultViewDate=$()},_applyEvents:function(e){for(var t,i,n,s=0;s<e.length;s++)t=e[s][0],2===e[s].length?(i=_,n=e[s][1]):3===e[s].length&&(i=e[s][1],n=e[s][2]),t.on(n,i)},_unapplyEvents:function(e){for(var t,i,n,s=0;s<e.length;s++)t=e[s][0],2===e[s].length?(n=_,i=e[s][1]):3===e[s].length&&(n=e[s][1],i=e[s][2]),t.off(i,n)},_buildEvents:function(){var e={keyup:k.proxy(function(e){-1===k.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:k.proxy(this.keydown,this),paste:k.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=k.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:k.proxy(this.show,this)}]]:this._events=[[this.element,{click:k.proxy(this.show,this),keydown:k.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:k.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:k.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":k.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:k.proxy(this.click,this)}],[this.picker,".prev, .next",{click:k.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:k.proxy(this.dayCellClick,this)}],[k(window),{resize:k.proxy(this.place,this)}],[k(document),{"mousedown touchstart":k.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){t=t||this.dates.get(-1),t=this._utc_to_local(t);this.element.trigger({type:e,date:t,viewMode:this.viewMode,dates:k.map(this.dates,this._utc_to_local),format:k.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;e=this.dates.get(e);return x.formatDate(e,t,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&k(this.element).blur(),this},hide:function(){return!this.isInline&&this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==k.inArray("text/plain",e.originalEvent.clipboardData.types))t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){var t;return e&&((t=new Date(e.getTime()+6e4*e.getTimezoneOffset())).getTimezoneOffset()!==e.getTimezoneOffset()?new Date(e.getTime()+6e4*t.getTimezoneOffset()):t)},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&D(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return k.map(this.dates,this._utc_to_local)},getUTCDates:function(){return k.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==_?new Date(e):null},clearDates:function(){this.inputField.val(""),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()},setDates:function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=Array.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,k.map(e,this._utc_to_local)),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===_&&(t=this.o.format);var i=this.o.language;return k.map(this.dates,function(e){return x.formatDate(e,t,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){var e,t,i,n,s,a,o,r,l,c,u;return this.isInline||(e=this.picker.outerWidth(),t=this.picker.outerHeight(),i=(c=k(this.o.container)).width(),n=("body"===this.o.container?k(document):c).scrollTop(),c=c.offset(),s=[0],this.element.parents().each(function(){var e=k(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))}),a=Math.max.apply(Math,s)+this.o.zIndexOffset,u=(this.component?this.component.parent():this.element).offset(),o=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),r=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),l=u.left-c.left,c=u.top-c.top,"body"!==this.o.container&&(c+=n),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(l-=e-r)):u.left<0?(this.picker.addClass("datepicker-orient-left"),l-=u.left-10):i<l+e?(this.picker.addClass("datepicker-orient-right"),l+=r-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left"),"auto"===(u=this.o.orientation.y)&&(u=-n+c-t<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+u),"top"===u?c-=t+parseInt(this.picker.css("padding-top")):c+=o,this.o.rtl?this.picker.css({top:c,right:i-(l+r),zIndex:a}):this.picker.css({top:c,left:l,zIndex:a})),this},_allow_update:!0,update:function(){var e,i,t;return this._allow_update&&(e=this.dates.copy(),t=!(i=[]),arguments.length?(k.each(arguments,k.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),t=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=k.map(i,k.proxy(function(e){return x.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=k.grep(i,k.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),t?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&t&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill()),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',-1!==k.inArray(e,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+C[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;i++)t+='<span class="month'+(e&&e.getMonth()===i?" focused":"")+'">'+C[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=k.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=$();return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<n?t.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>n)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&a(e,s)&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),-1!==k.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==k.inArray(e.valueOf(),this.range)&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1])&&t.push("range-end"),t},_fill_yearsView:function(e,t,i,n,s,a,o){for(var r,l,c,u="",d=i/10,e=this.picker.find(e),h=Math.floor(n/i)*i,p=h+9*d,f=Math.floor(this.viewDate.getFullYear()/d)*d,m=k.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/d)*d}),g=h-d;g<=p+d;g+=d)r=[t],l=null,g===h-d?r.push("old"):g===p+d&&r.push("new"),-1!==k.inArray(g,m)&&r.push("active"),(g<s||a<g)&&r.push("disabled"),g===f&&r.push("focused"),o!==k.noop&&((c=o(new Date(g,0,1)))===_?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&r.push("disabled"),c.classes&&(r=r.concat(c.classes.split(/\s+/))),c.tooltip)&&(l=c.tooltip),u+='<span class="'+r.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+g+"</span>";e.find(".datepicker-switch").text(h+"-"+p),e.find("td").html(u)},fill:function(){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=C[this.o.language].today||C.en.today||"",u=C[this.o.language].clear||C.en.clear||"",d=C[this.o.language].titleFormat||C.en.titleFormat,h=$(),h=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&h>=this.o.startDate&&h<=this.o.endDate&&!this.weekOfDateIsDisabled(h);if(!isNaN(n)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(x.formatDate(i,d,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",h?"table-cell":"none"),this.picker.find("tfoot .clear").text(u).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();for(var p=D(n,s,0),i=p.getUTCDate(),f=(p.setUTCDate(i-(p.getUTCDay()-this.o.weekStart+7)%7),new Date(p)),m=(p.getUTCFullYear()<100&&f.setUTCFullYear(p.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf(),[]);p.valueOf()<f;){(v=p.getUTCDay())===this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)&&(g=new Date(+p+(this.o.weekStart-v-7)%7*864e5),g=new Date(Number(g)+(11-g.getUTCDay())%7*864e5),y=new Date(Number(y=D(g.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),m.push('<td class="cw">'+((g-y)/864e5/7+1)+"</td>")),(g=this.getClassNames(p)).push("day");var g,v,y=p.getUTCDate();this.o.beforeShowDay!==k.noop&&((t=this.o.beforeShowDay(this._utc_to_local(p)))===_?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1===t.enabled&&g.push("disabled"),t.classes&&(g=g.concat(t.classes.split(/\s+/))),t.tooltip&&(e=t.tooltip),t.content)&&(y=t.content),g="function"==typeof k.uniqueSort?k.uniqueSort(g):k.unique(g),m.push('<td class="'+g.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+p.getTime().toString()+'">'+y+"</td>"),e=null,v===this.o.weekEnd&&m.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(m.join(""));var w,d=C[this.o.language].monthsTitle||C.en.monthsTitle||"Months",b=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?d:n).end().find("tbody span").removeClass("active");k.each(this.dates,function(e,t){t.getUTCFullYear()===n&&b.eq(t.getUTCMonth()).addClass("active")}),(n<a||r<n)&&b.addClass("disabled"),n===a&&b.slice(0,o).addClass("disabled"),n===r&&b.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==k.noop&&(w=this,k.each(b,function(e,t){e=new Date(n,e,1),e=w.o.beforeShowMonth(e);e===_?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1!==e.enabled||k(t).hasClass("disabled")||k(t).addClass("disabled"),e.classes&&k(t).addClass(e.classes),e.tooltip&&k(t).prop("title",e.tooltip)})),this._fill_yearsView(".datepicker-years","year",10,n,a,r,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,n,a,r,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,n,a,r,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,r=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:e=Math.floor(n/c)*c<=a,t=Math.floor(n/c)*c+c>r;break;case 0:e=n<=a&&s<=o,t=r<=n&&l<=s}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(e){var t,i;e.preventDefault(),e.stopPropagation(),(e=k(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate($(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=e.parent().find("span").index(e),t=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,t=Number(e.text()),this.viewDate.setUTCFullYear(t)),this._trigger(x.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(D(t,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){e=k(e.currentTarget).data("date"),e=new Date(e);this.o.updateViewDate&&(e.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),e.getUTCMonth()!==this.viewDate.getUTCMonth())&&this._trigger("changeMonth",this.viewDate),this._setDate(e)},navArrowsClick:function(e){e=k(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*x.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(x.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!(i=e)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!t)return e;var n,s,a=new Date(e.valueOf()),o=a.getUTCDate(),r=a.getUTCMonth(),l=Math.abs(t);if(t=0<t?1:-1,1===l)s=-1===t?function(){return a.getUTCMonth()===r}:function(){return a.getUTCMonth()!==n},n=r+t,a.setUTCMonth(n),n=(n+12)%12;else{for(var c=0;c<l;c++)a=this.moveMonth(a,t);n=a.getUTCMonth(),a.setUTCDate(o),s=function(){return n!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--o),a.setUTCMonth(n);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1}while(i="moveDay",this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==k.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||0<k.grep(this.o.datesDisabled,function(e){return a(t,e)}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,i,n=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:this.o.keyboardNavigation&&7!==this.o.daysOfWeekDisabled.length&&(t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(s,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(i=this.moveAvailableDate(s,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(s,t,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveYear")),i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:this.o.forceParse&&(s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible"))&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose)&&this.hide();break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+x.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};l.prototype={updateDates:function(){this.dates=k.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=k.map(this.dates,function(e){return e.valueOf()});k.each(this.pickers,function(e,t){t.setRange(i)})},clearDates:function(){k.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=k.data(e.target,"datepicker");if(i!==_){var n=i.getUTCDate(),s=this.keepEmptyValues,e=k.inArray(e.target,this.inputs),t=e-1,a=e+1,o=this.inputs.length;if(-1!==e){if(k.each(this.pickers,function(e,t){t.getUTCDate()||t!==i&&s||t.setUTCDate(n)}),n<this.dates[t])for(;0<=t&&n<this.dates[t]&&0<(this.pickers[t].element.val()||"").length;)this.pickers[t--].setUTCDate(n);else if(n>this.dates[a])for(;a<o&&n>this.dates[a]&&0<(this.pickers[a].element.val()||"").length;)this.pickers[a++].setUTCDate(n);this.updateDates(),delete this.updating}}}},destroy:function(){k.map(this.pickers,function(e){e.destroy()}),k(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var n=k.fn.datepicker,s=function(a){var o,r=Array.apply(null,arguments);if(r.shift(),this.each(function(){var e,t,i=k(this),n=i.data("datepicker"),s="object"==typeof a&&a;n||(e=((e,t)=>{var i,n=k(e).data(),s={},a=new RegExp("^"+t.toLowerCase()+"([A-Z])");function o(e,t){return t.toLowerCase()}for(i in t=new RegExp("^"+t.toLowerCase()),n)t.test(i)&&(s[i.replace(a,o)]=n[i]);return s})(this,"date"),t=(e=>{var i,n={};if(C[e]||(e=e.split("-")[0],C[e]))return i=C[e],k.each(u,function(e,t){t in i&&(n[t]=i[t])}),n})(k.extend({},c,e,s).language),t=k.extend({},c,t,e,s),n=new(i.hasClass("input-daterange")||t.inputs?(k.extend(t,{inputs:t.inputs||i.find("input").toArray()}),l):T)(this,t),i.data("datepicker",n)),"string"==typeof a&&"function"==typeof n[a]&&(o=n[a].apply(n,r))}),o===_||o instanceof T||o instanceof l)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return o},c=(k.fn.datepicker=s,k.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:k.noop,beforeShowMonth:k.noop,beforeShowYear:k.noop,beforeShowDecade:k.noop,beforeShowCentury:k.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",isInline:null,keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0}),u=k.fn.datepicker.locale_opts=["format","rtl","weekStart"],C=(k.fn.datepicker.Constructor=T,k.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}}),x={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),e=e.match(this.validParts);if(t&&t.length&&e&&0!==e.length)return{separators:t,parts:e};throw new Error("Invalid date format.")},parseDate:function(e,t,i,n){if(!e)return _;if(!(e instanceof Date)){if((t="string"==typeof t?x.parseFormat(t):t).toValue)return t.toValue(e,t,i);var s,a,o,r={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},l={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e=e in l?l[e]:e)){for(d=e.match(/([\-+]\d+)([dmwy])/gi),e=new Date,y=0;y<d.length;y++)s=d[y].match(/([\-+]\d+)([dmwy])/i),a=Number(s[1]),o=r[s[2].toLowerCase()],e=T.prototype[o](e,a);return T.prototype._zero_utc_time(e)}var c,u,d=e&&e.match(this.nonpunctuation)||[],h={},p=["yyyy","yy","M","MM","m","mm","d","dd"],f={yyyy:function(e,t){return e.setUTCFullYear(n?(!0===(e=n)&&(e=10),(i=t)<100&&(i+=2e3)>(new Date).getFullYear()+e&&(i-=100),i):t);var i},m:function(e,t){if(!isNaN(e)){for(--t;t<0;)t+=12;for(e.setUTCMonth(t%=12);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,t){return e.setUTCDate(t)}},m=(f.yy=f.yyyy,f.M=f.MM=f.mm=f.m,f.dd=f.d,e=$(),t.parts.slice());if(d.length!==m.length&&(m=k(m).filter(function(e,t){return-1!==k.inArray(t,p)}).toArray()),d.length===m.length){for(var g,v,y=0,w=m.length;y<w;y++){if(c=parseInt(d[y],10),s=m[y],isNaN(c))switch(s){case"MM":u=k(C[i].months).filter(b),c=k.inArray(u[0],C[i].months)+1;break;case"M":u=k(C[i].monthsShort).filter(b),c=k.inArray(u[0],C[i].monthsShort)+1}h[s]=c}for(y=0;y<p.length;y++)(v=p[y])in h&&!isNaN(h[v])&&(g=new Date(e),f[v](g,h[v]),isNaN(g)||(e=g))}}return e;function b(){var e=this.slice(0,d[y].length),t=d[y].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}},formatDate:function(e,t,i){if(!e)return"";if((t="string"==typeof t?x.parseFormat(t):t).toDisplay)return t.toDisplay(e,t,i);for(var n={d:e.getUTCDate(),D:C[i].daysShort[e.getUTCDay()],DD:C[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:C[i].monthsShort[e.getUTCMonth()],MM:C[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()},s=(n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[],k.extend([],t.separators)),a=0,o=t.parts.length;a<=o;a++)s.length&&e.push(s.shift()),e.push(n[t.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};x.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+x.headTemplate+"<tbody></tbody>"+x.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+"</table></div></div>",k.fn.datepicker.DPGlobal=x,k.fn.datepicker.noConflict=function(){return k.fn.datepicker=n,this},k.fn.datepicker.version="1.10.0",k.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},k(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=k(this);t.data("datepicker")||(e.preventDefault(),s.call(t,"show"))}),k(function(){s.call(k('[data-provide="datepicker-inline"]'))})}),(i=>{"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),i(t),t}:i(jQuery)})(function(t){(e=t&&t.fn&&t.fn.select2&&t.fn.select2.amd?t.fn.select2.amd:e)&&e.requirejs||(e?i=e:e={},m={},g={},v={},y={},n=Object.prototype.hasOwnProperty,s=[].slice,w=/\.js$/,p=function(e,t){var i,n,s=c(e),a=s[0],t=t[1];return e=s[1],a&&(i=_(a=l(a,t))),a?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return l(e,n)})):l(e,t):(a=(s=c(e=l(e,t)))[0],e=s[1],a&&(i=_(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:i}},f={require:function(e){return k(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:(t=e,function(){return v&&v.config&&v.config[t]||{}})};var t}},a=function(e,t,i,n){var s,a,o,r,l,c=[],u=typeof i,d=D(n=n||e);if("undefined"==u||"function"==u){for(t=!t.length&&i.length?["require","exports","module"]:t,r=0;r<t.length;r+=1)if("require"===(a=(o=p(t[r],d)).f))c[r]=f.require(e);else if("exports"===a)c[r]=f.exports(e),l=!0;else if("module"===a)s=c[r]=f.module(e);else if(b(m,a)||b(g,a)||b(y,a))c[r]=_(a);else{if(!o.p)throw new Error(e+" missing "+a);o.p.load(o.n,k(n,!0),(t=>function(e){m[t]=e})(a),{}),c[r]=m[a]}u=i?i.apply(m[e],c):void 0,e&&(s&&s.exports!==h&&s.exports!==m[e]?m[e]=s.exports:u===h&&l||(m[e]=u))}else e&&(m[e]=i)},r=i=o=function(e,t,i,n,s){if("string"==typeof e)return f[e]?f[e](t):_(p(e,D(t)).f);if(!e.splice){if((v=e).deps&&o(v.deps,v.callback),!t)return;t.splice?(e=t,t=i,i=null):e=h}return t=t||function(){},"function"==typeof i&&(i=n,n=s),n?a(h,e,t,i):setTimeout(function(){a(h,e,t,i)},4),o},o.config=function(e){return o(e)},r._defined=m,(u=function(e,t,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),b(m,e)||b(g,e)||(g[e]=[e,t,i])}).amd={jQuery:!0},e.requirejs=r,e.require=i,e.define=u),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(a){var n={};function c(e){var t,i=e.prototype,n=[];for(t in i)"function"==typeof i[t]&&"constructor"!==t&&n.push(t);return n}n.Extend=function(e,t){var i,n={}.hasOwnProperty;function s(){this.constructor=e}for(i in t)n.call(t,i)&&(e[i]=t[i]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e},n.Decorate=function(n,s){var e=c(s),t=c(n);function a(){var e=Array.prototype.unshift,t=s.prototype.constructor.length,i=n.prototype.constructor;0<t&&(e.call(arguments,n.prototype.constructor),i=s.prototype.constructor),i.apply(this,arguments)}s.displayName=n.displayName,a.prototype=new function(){this.constructor=a};for(var i=0;i<t.length;i++){var o=t[i];a.prototype[o]=n.prototype[o]}for(var r=0;r<e.length;r++){var l=e[r];a.prototype[l]=(e=>{var t=function(){},i=(e in a.prototype&&(t=a.prototype[e]),s.prototype[e]);return function(){return Array.prototype.unshift.call(arguments,t),i.apply(this,arguments)}})(l)}return a};function e(){this.listeners={}}e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},0===(i=null==i?[]:i).length&&i.push({}),(i[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},n.Observable=e,n.generateChars=function(e){for(var t="",i=0;i<e;i++)t+=Math.floor(36*Math.random()).toString(36);return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var s=0;s<i.length;s++){var a=i[s];(a=a.substring(0,1).toLowerCase()+a.substring(1))in n||(n[a]={}),s==i.length-1&&(n[a]=e[t]),n=n[a]}delete e[t]}}return e},n.hasScroll=function(e,t){var i=a(t),n=t.style.overflowX,s=t.style.overflowY;return(n!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===n||"scroll"===s||i.innerHeight()<t.scrollHeight||i.innerWidth()<t.scrollWidth)},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(e,t){var i;"1.7"===a.fn.jquery.substr(0,3)&&(i=a(),a.map(t,function(e){i=i.add(e)}),t=i),e.append(t)},n.__cache={};var i=0;return n.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++i),t=i.toString())),t},n.StoreData=function(e,t,i){e=n.GetUniqueElementId(e);n.__cache[e]||(n.__cache[e]={}),n.__cache[e][t]=i},n.GetData=function(e,t){var i=n.GetUniqueElementId(e);return t?n.__cache[i]&&null!=n.__cache[i][t]?n.__cache[i][t]:a(e).data(t):n.__cache[i]},n.RemoveData=function(e){var t=n.GetUniqueElementId(e);null!=n.__cache[t]&&delete n.__cache[t],e.removeAttribute("data-select2-id")},n}),e.define("select2/results",["jquery","./utils"],function(u,d){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return d.Extend(n,d.Observable),n.prototype.render=function(){var e=u('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup"),i=(this.clear(),this.hideLoading(),u('<li role="alert" aria-live="assertive" class="select2-results__option"></li>')),n=this.options.get("translations").get(e.message);i.append(t(n(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"});else{e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],n=this.option(n);t.push(n)}this.$results.append(t)}},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");(0<t.length?t:e).first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(e){var n=u.map(e,function(e){return e.id.toString()});t.$results.find(".select2-results__option[aria-selected]").each(function(){var e=u(this),t=d.GetData(this,"data"),i=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<u.inArray(i,n)?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},e=this.option(e);e.className+=" loading-results",this.$results.prepend(e)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var t,i=document.createElement("li"),n=(i.className="select2-results__option",{role:"option","aria-selected":"false"}),s=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(t in(null!=e.element&&s.call(e.element,":disabled")||null==e.element&&e.disabled)&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]),n)i.setAttribute(t,n[t]);if(e.children){for(var s=u(i),a=document.createElement("strong"),o=(a.className="select2-results__group",u(a),this.template(e,a),[]),r=0;r<e.children.length;r++){var l=e.children[r],l=this.option(l);o.push(l)}var c=u("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});c.append(o),s.append(a),s.append(c)}else this.template(e,i);return d.StoreData(i,"data",e),i},n.prototype.bind=function(t,e){var s=this,i=t.id+"-results";this.$results.attr("id",i),t.on("results:all",function(e){s.clear(),s.append(e.data),t.isOpen()&&(s.setClasses(),s.highlightFirstItem())}),t.on("results:append",function(e){s.append(e.data),t.isOpen()&&s.setClasses()}),t.on("query",function(e){s.hideMessages(),s.showLoading(e)}),t.on("select",function(){t.isOpen()&&(s.setClasses(),s.options.get("scrollAfterSelect"))&&s.highlightFirstItem()}),t.on("unselect",function(){t.isOpen()&&(s.setClasses(),s.options.get("scrollAfterSelect"))&&s.highlightFirstItem()}),t.on("open",function(){s.$results.attr("aria-expanded","true"),s.$results.attr("aria-hidden","false"),s.setClasses(),s.ensureHighlightVisible()}),t.on("close",function(){s.$results.attr("aria-expanded","false"),s.$results.attr("aria-hidden","true"),s.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=s.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e,t=s.getHighlightedResults();0!==t.length&&(e=d.GetData(t[0],"data"),"true"==t.attr("aria-selected")?s.trigger("close",{}):s.trigger("select",{data:e}))}),t.on("results:previous",function(){var e,t=s.getHighlightedResults(),i=s.$results.find("[aria-selected]"),n=i.index(t);n<=0||(n=n-1,0===t.length&&(n=0),(t=i.eq(n)).trigger("mouseenter"),i=s.$results.offset().top,t=t.offset().top,e=s.$results.scrollTop()+(t-i),0===n?s.$results.scrollTop(0):t-i<0&&s.$results.scrollTop(e))}),t.on("results:next",function(){var e,t,i=s.getHighlightedResults(),n=s.$results.find("[aria-selected]"),i=n.index(i)+1;i>=n.length||((n=n.eq(i)).trigger("mouseenter"),e=s.$results.offset().top+s.$results.outerHeight(!1),n=n.offset().top+n.outerHeight(!1),t=s.$results.scrollTop()+n-e,0===i?s.$results.scrollTop(0):e<n&&s.$results.scrollTop(t))}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){s.displayMessage(e)}),u.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=s.$results.scrollTop(),i=s.$results.get(0).scrollHeight-t+e.deltaY,t=0<e.deltaY&&t-e.deltaY<=0,i=e.deltaY<0&&i<=s.$results.height();t?(s.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):i&&(s.$results.scrollTop(s.$results.get(0).scrollHeight-s.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=u(this),i=d.GetData(this,"data");"true"===t.attr("aria-selected")?s.options.get("multiple")?s.trigger("unselect",{originalEvent:e,data:i}):s.trigger("close",{}):s.trigger("select",{originalEvent:e,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=d.GetData(this,"data");s.getHighlightedResults().removeClass("select2-results__option--highlighted"),s.trigger("results:focus",{data:t,element:u(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e,t,i,n,s=this.getHighlightedResults();0!==s.length&&(e=this.$results.find("[aria-selected]").index(s),t=this.$results.offset().top,n=s.offset().top,i=this.$results.scrollTop()+(n-t),n=n-t,i-=2*s.outerHeight(!1),e<=2?this.$results.scrollTop(0):(n>this.$results.outerHeight()||n<0)&&this.$results.scrollTop(i))},n.prototype.template=function(e,t){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),i=i(e,t);null==i?t.style.display="none":"string"==typeof i?t.innerHTML=n(i):u(t).append(i)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(i,n,s){function a(e,t){this.$element=e,this.options=t,a.__super__.constructor.call(this)}return n.Extend(a,n.Observable),a.prototype.render=function(){var e=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=n.GetData(this.$element[0],"old-tabindex")?this._tabindex=n.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),e.attr("aria-disabled","false"),this.$selection=e},a.prototype.bind=function(e,t){var i=this,n=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===s.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),e.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},a.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||i.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},a.prototype._attachCloseHandler=function(e){i(document.body).on("mousedown.select2."+e.id,function(e){var t=i(e.target).closest(".select2");i(".select2.select2-container--open").each(function(){this!=t[0]&&n.GetData(this,"element").select2("close")})})},a.prototype._detachCloseHandler=function(e){i(document.body).off("mousedown.select2."+e.id)},a.prototype.position=function(e,t){t.find(".selection").append(e)},a.prototype.destroy=function(){this._detachCloseHandler(this.container)},a.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},a.prototype.isEnabled=function(){return!this.isDisabled()},a.prototype.isDisabled=function(){return this.options.get("disabled")},a}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function s(){s.__super__.constructor.apply(this,arguments)}return i.Extend(s,t),s.prototype.render=function(){var e=s.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},s.prototype.bind=function(t,e){var i=this,n=(s.__super__.bind.apply(this,arguments),t.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",n).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||i.$selection.trigger("focus")})},s.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},s.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},s.prototype.selectionContainer=function(){return e("<span></span>")},s.prototype.update=function(e){var t,i;0===e.length?this.clear():(e=e[0],t=this.$selection.find(".select2-selection__rendered"),i=this.display(e,t),t.empty().append(i),(i=e.title||e.text)?t.attr("title",i):t.removeAttr("title"))},s}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,e,r){function s(e,t){s.__super__.constructor.apply(this,arguments)}return r.Extend(s,e),s.prototype.render=function(){var e=s.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},s.prototype.bind=function(e,t){var i=this;s.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){i.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t;i.isDisabled()||(t=n(this).parent(),t=r.GetData(t[0],"data"),i.trigger("unselect",{originalEvent:e,data:t}))})},s.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},s.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},s.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},s.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var n=e[i],s=this.selectionContainer(),a=this.display(n,s),a=(s.append(a),n.title||n.text);a&&s.attr("title",a),r.StoreData(s[0],"data",n),t.push(s)}var o=this.$selection.find(".select2-selection__rendered");r.appendMany(o,t)}},s}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||i)return e.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,n,r){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var n=r.GetData(i[0],"data"),s=this.$element.val(),a=(this.$element.val(this.placeholder.id),{data:n});if(this.trigger("clear",a),a.prevented)this.$element.val(s);else{for(var o=0;o<n.length;o++)if(a={data:n[o]},this.trigger("unselect",a),a.prevented)return void this.$element.val(s);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,i){i.isOpen()||t.which!=n.DELETE&&t.which!=n.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){e.call(this,t),0<this.$selection.find(".select2-selection__placeholder").length||0===t.length||(e=this.options.get("translations").get("removeAllItems"),e=i('<span class="select2-selection__clear" title="'+e()+'">&times;</span>'),r.StoreData(e[0],"data",t),this.$selection.find(".select2-selection__rendered").prepend(e))},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(i,o,r){function e(e,t,i){e.call(this,t,i)}return e.prototype.render=function(e){var t=i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>'),t=(this.$searchContainer=t,this.$search=t.find("input"),e.call(this));return this._transferTabIndex(),t},e.prototype.bind=function(e,t,i){var n=this,s=t.id+"-results",e=(e.call(this,t,i),t.on("open",function(){n.$search.attr("aria-controls",s),n.$search.trigger("focus")}),t.on("close",function(){n.$search.val(""),n.$search.removeAttr("aria-controls"),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),t.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),t.on("disable",function(){n.$search.prop("disabled",!0)}),t.on("focus",function(e){n.$search.trigger("focus")}),t.on("results:focus",function(e){e.data._resultId?n.$search.attr("aria-activedescendant",e.data._resultId):n.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){n.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){n._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){var t;e.stopPropagation(),n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented(),e.which===r.BACKSPACE&&""===n.$search.val()&&0<(t=n.$searchContainer.prev(".select2-selection__choice")).length&&(t=o.GetData(t[0],"data"),n.searchRemoveChoice(t),e.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(e){n.$search.val()&&e.stopPropagation()}),document.documentMode),a=e&&e<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){a?n.$selection.off("input.search input.searchcheck"):n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){var t;a&&"input"===e.type?n.$selection.off("input.search input.searchcheck"):(t=e.which)!=r.SHIFT&&t!=r.CTRL&&t!=r.ALT&&t!=r.TAB&&n.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.trigger("focus")},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},e}),e.define("select2/selection/eventRelay",["jquery"],function(o){function e(){}return e.prototype.bind=function(e,t,i){var n=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,i),t.on("*",function(e,t){var i;-1!==o.inArray(e,s)&&(i=o.Event("select2:"+e,{params:t=t||{}}),n.$element.trigger(i),-1!==o.inArray(e,a))&&(t.prevented=i.isDefaultPrevented())})},e}),e.define("select2/translation",["jquery","require"],function(t,i){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(e){var t;return e in n._cache||(t=i(e),n._cache[e]=t),new n(n._cache[e])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),e.define("select2/data/base",["../utils"],function(i){function n(e,t){n.__super__.constructor.call(this)}return i.Extend(n,i.Observable),n.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(e,t){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(e,t){e=e.id+"-result-";return e+=i.generateChars(4),null!=t.id?e+="-"+t.id.toString():e+="-"+i.generateChars(4),e},n}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,o,r){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return o.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=r(this),e=i.item(e);t.push(e)}),e(t)},i.prototype.select=function(s){var e,a=this;s.selected=!0,r(s.element).is("option")?(s.element.selected=!0,this.$element.trigger("input").trigger("change")):this.$element.prop("multiple")?this.current(function(e){var t=[];(s=[s]).push.apply(s,e);for(var i=0;i<s.length;i++){var n=s[i].id;-1===r.inArray(n,t)&&t.push(n)}a.$element.val(t),a.$element.trigger("input").trigger("change")}):(e=s.id,this.$element.val(e),this.$element.trigger("input").trigger("change"))},i.prototype.unselect=function(s){var a=this;this.$element.prop("multiple")&&(s.selected=!1,r(s.element).is("option")?(s.element.selected=!1,this.$element.trigger("input").trigger("change")):this.current(function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i].id;n!==s.id&&-1===r.inArray(n,t)&&t.push(n)}a.$element.val(t),a.$element.trigger("input").trigger("change")}))},i.prototype.bind=function(e,t){var i=this;(this.container=e).on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){o.RemoveData(this)})},i.prototype.query=function(t,e){var i=[],n=this;this.$element.children().each(function(){var e=r(this);(e.is("option")||e.is("optgroup"))&&(e=n.item(e),null!==(e=n.matches(t,e)))&&i.push(e)}),e({results:i})},i.prototype.addOptions=function(e){o.appendMany(this.$element,e)},i.prototype.option=function(e){e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var t,i=r(t),e=this._normalizeItem(e);return e.element=t,o.StoreData(t,"data",e),i},i.prototype.item=function(e){var t={};if(null==(t=o.GetData(e[0],"data"))){if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){for(var t={text:e.prop("label"),children:[],title:e.prop("title")},i=e.children("option"),n=[],s=0;s<i.length;s++){var a=r(i[s]),a=this.item(a);n.push(a)}t.children=n}(t=this._normalizeItem(t)).element=e[0],o.StoreData(e[0],"data",t)}return t},i.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=r.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),r.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,c,u){function n(e,t){this._dataToConvert=t.get("data")||[],n.__super__.constructor.call(this,e,t)}return c.Extend(n,e),n.prototype.bind=function(e,t){n.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},n.prototype.select=function(i){var e;0===this.$element.find("option").filter(function(e,t){return t.value==i.id.toString()}).length&&(e=this.option(i),this.addOptions(e)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(e){var t=this,i=this.$element.find("option"),n=i.map(function(){return t.item(u(this)).id}).get(),s=[];for(var a=0;a<e.length;a++){var o,r,l=this._normalizeItem(e[a]);0<=u.inArray(l.id,n)?(o=i.filter((e=>function(){return u(this).val()==e.id})(l)),r=this.item(o),r=u.extend(!0,{},l,r),r=this.option(r),o.replaceWith(r)):(o=this.option(l),l.children&&(r=this.convertToOptions(l.children),c.appendMany(o,r)),s.push(o))}return s},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,a){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){return a.extend({},{data:function(e){return a.extend({},e,{q:e.term})},transport:function(e,t,i){e=a.ajax(e);return e.then(t),e.fail(i),e}},e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(t,i){var n=this,s=(null!=this._request&&(a.isFunction(this._request.abort)&&this._request.abort(),this._request=null),a.extend({type:"GET"},this.ajaxOptions));function e(){var e=s.transport(s,function(e){e=n.processResults(e,t);n.options.get("debug")&&window.console&&console.error&&(e&&e.results&&a.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),i(e)},function(){"status"in e&&(0===e.status||"0"===e.status)||n.trigger("results:message",{message:"errorLoading"})});n._request=e}"function"==typeof s.url&&(s.url=s.url.call(this.$element,t)),"function"==typeof s.data&&(s.data=s.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},i}),e.define("select2/data/tags",["jquery"],function(r){function e(e,t,i){var n=i.get("tags"),s=i.get("createTag"),s=(void 0!==s&&(this.createTag=s),i.get("insertTag"));if(void 0!==s&&(this.insertTag=s),e.call(this,t,i),r.isArray(n))for(var a=0;a<n.length;a++){var o=n[a],o=this._normalizeItem(o),o=this.option(o);this.$element.append(o)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null==c.term||null!=c.page?e.call(this,c,u):e.call(this,c,function e(t,i){for(var n=t.results,s=0;s<n.length;s++){var a=n[s],o=null!=a.children&&!e({results:a.children},!0);if((a.text||"").toUpperCase()===(c.term||"").toUpperCase()||o)return!i&&(t.data=n,void u(t))}if(i)return!0;var r,l=d.createTag(c);null!=l&&((r=d.option(l)).attr("data-select2-tag",!0),d.addOptions([r]),d.insertTag(n,l)),t.results=n,u(t)})},e.prototype.createTag=function(e,t){t=r.trim(t.term);return""===t?null:{id:t,text:t}},e.prototype.insertTag=function(e,t,i){t.unshift(i)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||r(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(c){function e(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,t,i){var n=this;t.term=t.term||"";var s=this.tokenizer(t,this.options,function(e){var t=n._normalizeItem(e);n.$element.find("option").filter(function(){return c(this).val()===t.id}).length||((e=n.option(t)).attr("data-select2-tag",!0),n._removeOldTags(),n.addOptions([e])),n.trigger("select",{data:t})});s.term!==t.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.trigger("focus")),t.term=s.term),e.call(this,t,i)},e.prototype.tokenizer=function(e,t,i,n){for(var s=i.get("tokenSeparators")||[],a=t.term,o=0,r=this.createTag||function(e){return{id:e.term,text:e.term}};o<a.length;){var l=a[o];-1===c.inArray(l,s)?o++:(l=a.substr(0,o),null==(l=r(c.extend({},t,{term:l})))?o++:(n(l),a=a.substr(o+1)||"",o=0))}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(){n._checkIfMaximumSelected()})},e.prototype.query=function(e,t,i){var n=this;this._checkIfMaximumSelected(function(){e.call(n,t,i)})},e.prototype._checkIfMaximumSelected=function(e,t){var i=this;this.current(function(e){e=null!=e?e.length:0;0<i.maximumSelectionLength&&e>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t&&t()})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(a,e){function t(){}return t.prototype.render=function(e){var e=e.call(this),t=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=t,this.$search=t.find("input"),e.prepend(t),e},t.prototype.bind=function(e,t,i){var n=this,s=t.id+"-results";e.call(this,t,i),this.$search.on("keydown",function(e){n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){a(this).off("keyup")}),this.$search.on("keyup input",function(e){n.handleSearch(e)}),t.on("open",function(){n.$search.attr("tabindex",0),n.$search.attr("aria-controls",s),n.$search.trigger("focus"),window.setTimeout(function(){n.$search.trigger("focus")},0)}),t.on("close",function(){n.$search.attr("tabindex",-1),n.$search.removeAttr("aria-controls"),n.$search.removeAttr("aria-activedescendant"),n.$search.val(""),n.$search.trigger("blur")}),t.on("focus",function(){t.isOpen()||n.$search.trigger("focus")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(n.showSearch(e)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))}),t.on("results:focus",function(e){e.data._resultId?n.$search.attr("aria-activedescendant",e.data._resultId):n.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;0<=n;n--){var s=t[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(i){function e(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("query",function(e){n.lastParams=e,n.loading=!0}),t.on("query:append",function(e){n.lastParams=e,n.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=i.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=i.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=i('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(u,o){function e(e,t,i){this.$dropdownParent=u(i.get("dropdownParent")||document.body),e.call(this,t,i)}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),n._bindContainerResultHandlers(t)}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},e.prototype.render=function(e){var t=u("<span></span>"),e=e.call(this);return t.append(e),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){var i;this._containerResultsHandlersBound||(i=this,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:message",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("select",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("unselect",function(){i._positionDropdown(),i._resizeDropdown()}),this._containerResultsHandlersBound=!0)},e.prototype._attachPositioningHandler=function(e,t){var i=this,n="scroll.select2."+t.id,s="resize.select2."+t.id,t="orientationchange.select2."+t.id,a=this.$container.parents().filter(o.hasScroll);a.each(function(){o.StoreData(this,"select2-scroll-position",{x:u(this).scrollLeft(),y:u(this).scrollTop()})}),a.on(n,function(e){var t=o.GetData(this,"select2-scroll-position");u(this).scrollTop(t.y)}),u(window).on(n+" "+s+" "+t,function(e){i._positionDropdown(),i._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var i="scroll.select2."+t.id,n="resize.select2."+t.id,t="orientationchange.select2."+t.id;this.$container.parents().filter(o.hasScroll).off(i),u(window).off(i+" "+n+" "+t)},e.prototype._positionDropdown=function(){var e=u(window),t=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,s=this.$container.offset(),a=(s.bottom=s.top+this.$container.outerHeight(!1),{height:this.$container.outerHeight(!1)});a.top=s.top,a.bottom=s.top+a.height;var o=this.$dropdown.outerHeight(!1),r=e.scrollTop(),e=e.scrollTop()+e.height(),r=r<s.top-o,e=e>s.bottom+o,s={left:s.left,top:a.bottom},l=this.$dropdownParent,c=("static"===l.css("position")&&(l=l.offsetParent()),{top:0,left:0});(u.contains(document.body,l[0])||l[0].isConnected)&&(c=l.offset()),s.top-=c.top,s.left-=c.left,t||i||(n="below"),e||!r||t?!r&&e&&t&&(n="below"):n="above",("above"==n||t&&"below"!==n)&&(s.top=a.top-c.top-o),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(s)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var s=t[n];s.children?i+=e(s.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",["../utils"],function(i){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){t=t.originalSelect2Event;if("select"===t._type||"unselect"===t._type)return}var t=this.getHighlightedResults();t.length<1||null!=(t=i.GetData(t[0],"data")).element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var e=e.input.length-e.maximum,t="Please delete "+e+" character";return 1!=e&&(t+="s"),t},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(l,a,o,r,c,u,d,h,p,f,m,t,g,v,y,w,b,k,_,D,$,T,C,x,A,S,O,M,e){function i(){this.reset()}return i.prototype.apply=function(e){null==(e=l.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=y:null!=e.data?e.dataAdapter=v:e.dataAdapter=g,0<e.minimumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,k)),0<e.maximumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,_)),0<e.maximumSelectionLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,D)),e.tags&&(e.dataAdapter=f.Decorate(e.dataAdapter,w)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=f.Decorate(e.dataAdapter,b)),null!=e.query&&(t=a(e.amdBase+"compat/query"),e.dataAdapter=f.Decorate(e.dataAdapter,t)),null!=e.initSelection)&&(t=a(e.amdBase+"compat/initSelection"),e.dataAdapter=f.Decorate(e.dataAdapter,t)),null==e.resultsAdapter&&(e.resultsAdapter=o,null!=e.ajax&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,x)),null!=e.placeholder&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,C)),e.selectOnClose)&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,O)),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=$:(t=f.Decorate($,T),e.dropdownAdapter=t),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,S)),e.closeOnSelect&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,M)),null==e.dropdownCssClass&&null==e.dropdownCss&&null==e.adaptDropdownCssClass||(t=a(e.amdBase+"compat/dropdownCss"),e.dropdownAdapter=f.Decorate(e.dropdownAdapter,t)),e.dropdownAdapter=f.Decorate(e.dropdownAdapter,A)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=c:e.selectionAdapter=r,null!=e.placeholder&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,u)),e.allowClear&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,d)),e.multiple&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,h)),null==e.containerCssClass&&null==e.containerCss&&null==e.adaptContainerCssClass||(t=a(e.amdBase+"compat/containerCss"),e.selectionAdapter=f.Decorate(e.selectionAdapter,t)),e.selectionAdapter=f.Decorate(e.selectionAdapter,p)),e.language=this._resolveLanguage(e.language),e.language.push("en");for(var t,i=[],n=0;n<e.language.length;n++){var s=e.language[n];-1===i.indexOf(s)&&i.push(s)}return e.language=i,e.translations=this._processTranslations(e.language,e.debug),e},i.prototype.reset=function(){function r(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:{},matcher:function e(t,i){if(""===l.trim(t.term))return i;if(i.children&&0<i.children.length){for(var n=l.extend(!0,{},i),s=i.children.length-1;0<=s;s--)null==e(t,i.children[s])&&n.children.splice(s,1);return 0<n.children.length?n:e(t,n)}var a=r(i.text).toUpperCase(),o=r(t.term).toUpperCase();return-1<a.indexOf(o)?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},i.prototype.applyFromElement=function(e,t){var i=e.language,n=this.defaults.language,s=t.prop("lang"),t=t.closest("[lang]").prop("lang"),s=Array.prototype.concat.call(this._resolveLanguage(s),this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(t));return e.language=s,e},i.prototype._resolveLanguage=function(e){if(!e)return[];if(l.isEmptyObject(e))return[];if(l.isPlainObject(e))return[e];for(var t,i=l.isArray(e)?e:[e],n=[],s=0;s<i.length;s++)n.push(i[s]),"string"==typeof i[s]&&0<i[s].indexOf("-")&&(t=i[s].split("-")[0],n.push(t));return n},i.prototype._processTranslations=function(e,t){for(var i=new m,n=0;n<e.length;n++){var s=new m,a=e[n];if("string"==typeof a)try{s=m.loadPath(a)}catch(e){try{a=this.defaults.amdLanguageBase+a,s=m.loadPath(a)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else s=l.isPlainObject(a)?new m(a):a;i.extend(s)}return i},i.prototype.set=function(e,t){var i={},e=(i[l.camelCase(e)]=t,f._convertData(i));l.extend(!0,this.defaults,e)},new i}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(i,c,n,u){function e(e,t){this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=n.applyFromElement(this.options,t)),this.options=n.apply(this.options),t&&t.is("input")&&(e=i(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=u.Decorate(this.options.dataAdapter,e))}return e.prototype.fromElement=function(e){var t=["select2"],i=(null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),u.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),u.StoreData(e[0],"data",u.GetData(e[0],"select2Tags")),u.StoreData(e[0],"tags",!0)),u.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",u.GetData(e[0],"ajaxUrl")),u.StoreData(e[0],"ajax-Url",u.GetData(e[0],"ajaxUrl"))),{});function n(e,t){return t.toUpperCase()}for(var s=0;s<e[0].attributes.length;s++){var a=e[0].attributes[s].name,o="data-";a.substr(0,o.length)==o&&(a=a.substring(o.length),o=u.GetData(e[0],a),i[a.replace(/-([a-z])/g,n)]=o)}c.fn.jquery&&"1."==c.fn.jquery.substr(0,2)&&e[0].dataset&&(i=c.extend(!0,{},e[0].dataset,i));var r,l=c.extend(!0,{},u.GetData(e[0]),i);for(r in l=u._convertData(l))-1<c.inArray(r,t)||(c.isPlainObject(this.options[r])?c.extend(this.options[r],l[r]):this.options[r]=l[r]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(a,s,o,n){function r(e,t){null!=o.GetData(e[0],"select2")&&o.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),this.options=new s(t=t||{},e),r.__super__.constructor.call(this);var t=e.attr("tabindex")||0,t=(o.StoreData(e[0],"old-tabindex",t),e.attr("tabindex","-1"),this.options.get("dataAdapter")),t=(this.dataAdapter=new t(e,this.options),this.render()),i=(this._placeContainer(t),this.options.get("selectionAdapter")),i=(this.selection=new i(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,t),this.options.get("dropdownAdapter")),i=(this.dropdown=new i(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,t),this.options.get("resultsAdapter")),n=(this.results=new i(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown),this);this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),o.StoreData(e[0],"select2",this),e.data("select2",this)}return o.Extend(r,o.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+o.generateChars(2):o.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t)return null!=(n=this._resolveWidth(e,"style"))?n:this._resolveWidth(e,"element");if("element"==t)return(n=e.outerWidth(!1))<=0?"auto":n+"px";if("style"!=t)return"computedstyle"==t?window.getComputedStyle(e[0]).width:t;var n=e.attr("style");if("string"==typeof n)for(var s=n.split(";"),a=0,o=s.length;a<o;a+=1){var r=s[a].replace(/\s/g,"").match(i);if(null!==r&&1<=r.length)return r[1]}return null},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this,e=(this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=o.bind(this._syncAttributes,this),this._syncS=o.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA),window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(e,t){i.trigger(e,t)})},r.prototype._registerSelectionEvents=function(){var i=this,n=["toggle","focus"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("focus",function(e){i.focus(e)}),this.selection.on("*",function(e,t){-1===a.inArray(e,n)&&i.trigger(e,t)})},r.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(e,t){i.trigger(e,t)})},r.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(e,t){i.trigger(e,t)})},r.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(t){i.isOpen()||i.trigger("open",{}),this.dataAdapter.query(t,function(e){i.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){i.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;i.isOpen()?t===n.ESC||t===n.TAB||t===n.UP&&e.altKey?(i.close(e),e.preventDefault()):t===n.ENTER?(i.trigger("results:select",{}),e.preventDefault()):t===n.SPACE&&e.ctrlKey?(i.trigger("results:toggle",{}),e.preventDefault()):t===n.UP?(i.trigger("results:previous",{}),e.preventDefault()):t===n.DOWN&&(i.trigger("results:next",{}),e.preventDefault()):(t===n.ENTER||t===n.SPACE||t===n.DOWN&&e.altKey)&&(i.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++)t.addedNodes[s].selected&&(i=!0);else t.removedNodes&&0<t.removedNodes.length?i=!0:a.isArray(t)&&a.each(t,function(e,t){if(n._isChangeMutation(e,t))return!(i=!0)});else i=!0;return i}},r.prototype._syncSubtree=function(e,t){var e=this._isChangeMutation(e,t),i=this;e&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})},r.prototype.trigger=function(e,t){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in n){var s={prevented:!1,name:e,args:t};if(i.call(this,n[e],s),s.prevented)return void(t.prevented=!0)}i.call(this,e,t)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');e=!(e=null!=e&&0!==e.length?e:[!0])[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();e=e[0];a.isArray(e)&&(e=a.map(e,function(e){return e.toString()})),this.$element.val(e).trigger("input").trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",o.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),o.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),o.StoreData(e[0],"element",this.$element),e},r}),e.define("jquery-mousewheel",["jquery"],function(e){return e}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(s,e,a,t,o){var r;return null==s.fn.select2&&(r=["open","close","destroy"],s.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=s.extend(!0,{},t);new a(s(this),e)}),this;var i,n;if("string"==typeof t)return n=Array.prototype.slice.call(arguments,1),this.each(function(){var e=o.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,n)}),-1<s.inArray(t,r)?this:i;throw new Error("Invalid arguments for Select2: "+t)}),null==s.fn.select2.defaults&&(s.fn.select2.defaults=t),a});var e,i,h,a,o,p,f,m,g,v,y,n,s,w,r={define:e.define,require:e.require};function b(e,t){return n.call(e,t)}function l(e,t){var i,n,s,a,o,r,l,c,u,d,h=t&&t.split("/"),p=v.map,f=p&&p["*"]||{};if(e){for(t=(e=e.split("/")).length-1,v.nodeIdCompat&&w.test(e[t])&&(e[t]=e[t].replace(w,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),c=0;c<e.length;c++)"."===(d=e[c])?(e.splice(c,1),--c):".."!==d||0===c||1===c&&".."===e[2]||".."===e[c-1]||0<c&&(e.splice(c-1,2),c-=2);e=e.join("/")}if((h||f)&&p){for(c=(i=e.split("/")).length;0<c;--c){if(n=i.slice(0,c).join("/"),h)for(u=h.length;0<u;--u)if(s=(s=p[h.slice(0,u).join("/")])&&s[n]){a=s,o=c;break}if(a)break;!r&&f&&f[n]&&(r=f[n],l=c)}!a&&r&&(a=r,o=l),a&&(i.splice(0,o,a),e=i.join("/"))}return e}function k(t,i){return function(){var e=s.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),o.apply(h,e.concat([t,i]))}}function _(e){var t;if(b(g,e)&&(t=g[e],delete g[e],y[e]=!0,a.apply(h,t)),b(m,e)||b(y,e))return m[e];throw new Error("No "+e)}function c(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function D(e){return e?c(e):[]}var u=r.require("jquery.select2");return t.fn.select2.amd=r,u});var typeahead=jQuery.fn.typeahead.noConflict(),bulkSelectAll=(jQuery.fn._typeahead=typeahead,function(){$("#bulk-select-all").on("click",function(){var e=$(this);$(".field-bulk-select input").prop("checked",e.is(":checked"))})}),bulkActionSubmit=function(){$("#bulk-action_0, #bulk-action_1").removeAttr("onchange"),$("#bulk-action_0, #bulk-action_1").on("change",function(){var e=this.form,t=$(this).find("option:selected"),i=$('input:checkbox:checked[name="object_ids"]'),n=!1;t.attr("value")&&"empty"!==t.attr("value")&&i.length&&("delete"===t.val()&&(i.each(function(){var e=$(this);if(1<parseInt(e.attr("data-event-instance-count"),10))return!(n=!0)}),n)?((t=$("#bulk-event-delete-modal")).find("#bulk-event-delete-btn").on("click",function(){e.submit()}),t.modal()):e.submit())})},toggleModalMergeObject=function(){var s=$("#object-merge-modal"),i=($(".category-merge, .tag-merge, .location-merge").on("click",function(e){e.preventDefault();var t=$(this).attr("data-object-title"),i=$(this).attr("data-object-pk"),e=$(this).attr("href"),n="",n=$(this).hasClass("category-merge")?"category":"tag";s.find("#new-object-select option").each(function(){$(this).text()===t&&$(this).val()===i?$(this).prop("disabled",!0):$(this).prop("disabled",!1)}),s.find("span.object-type").text(n).end().find("h2 span.font-weight-normal").text(t).end().find(".modal-footer a.btn-primary").attr("href",e).end().modal("show")}),s.find(".modal-footer a.btn:first-child"));i.on("click",function(){var e=$("#new-object-select").val(),t=i.attr("href");""!==e&&(t=t.replace(/merge\/[A-Za-z0-9]+$/,"merge/"+e),i.attr("href",t))})},calendarOwnershipModal=function(){var i;$("#calendar-reassign-ownership")&&(i=$("#calendar-reassign-ownership").find(".modal-footer a.btn:first-child")).on("click",function(){var e=$("#new-owner-select").val(),t=i.attr("href");""!==e&&(t=t.replace(/user\/[A-Za-z0-9]+$/,"user/"+e),i.attr("href",t))})},toggleModalUserDemote=function(){var i=$("#user-demote-modal"),n=($(".demote-self").on("click",function(e){e.preventDefault();var e=$(this).attr("data-user-name"),t=$(this).attr("href");i.find("h2 span.font-weight-normal").text(e).end().find(".modal-footer a.btn-danger").attr("href",t).end().modal("show")}),i.find(".modal-footer a.btn:first-child"));n.on("click",function(){var e=$("#new-object-select").val(),t=n.attr("href");""!==e&&(t=t.replace(/merge\/[A-Za-z0-9]+$/,"merge/"+e),n.attr("href",t))})},fallbackDtpOnClick=function(e){e=e.siblings("input");e.is(":focus")||e.focus()},initiateDatePickers=function(e){e.each(function(){var e=$(this),t=(!1===e.parent().hasClass("bootstrap-datepicker")&&e.addClass("form-control").wrap('<div class="bootstrap-dtp bootstrap-datepicker" />').parent().append('<span class="fa fa-calendar" aria-hidden="true" />'),e.parent().parent()),i=t.siblings().find("."+e.attr("class"));e.datepicker({format:"mm/dd/yyyy",autoclose:!0,todayHighlight:!0,startDate:EARLIEST_VALID_DATE,endDate:LATEST_VALID_DATE}).on("changeDate",function(e){i.length&&t.hasClass("start")?i.datepicker("setStartDate",e.date):i.length&&t.hasClass("end")&&i.datepicker("setEndDate",e.date)}),t.find("span").on("click",function(){fallbackDtpOnClick($(this))})})},initiateTimePickers=function(e){e.each(function(){var e=$(this);!1===e.parent().hasClass("bootstrap-timepicker")&&e.addClass("form-control").wrap('<div class="bootstrap-dtp bootstrap-timepicker" />').parent().append('<span class="fa fa-clock" aria-hidden="true" />'),e.parent().parent().find("span").on("click",function(){fallbackDtpOnClick($(this))})}).timepicker({scrollDefaultNow:!0,timeFormat:"h:i A",step:15})},initiateReReviewCopy=function(){$("#copy_title").on("click",function(e){e.preventDefault(),$("#"+$(this).attr("data-copy-to")).val($("#new_title").val())}),$("#copy_description").on("click",function(e){e.preventDefault(),tinyMCE.get($(this).attr("data-copy-to")).setContent($("#new_description").val())})},selectFieldAutocomplete=function(e,t){this.autocompleteField=e,this.dataField=t,this.form=t.parents("form"),this.searchableTerms=[],this.mappedData={},this.selection=null,this.setupForm=function(){},this.onFormSubmission=function(){var e=this;e.form.on("submit",function(){if(e.autocompleteField.is(":focus"))return!1})},this.checkEmptyValues=function(){var t=this;t.autocompleteField.on("keydown",function(e){t.autocompleteField.val()||"keydown"!==e.type||8!==e.keyCode&&46!==e.keyCode||(t.autocompleteField.trigger("change"),t.dataField.is("select")&&(t.dataField.children("option:selected").removeAttr("selected"),t.dataField.children("option:selected").prop("selected",!1)),t.dataField.val(""))})},this.setSearchTerms=function(){var i=this;i.dataField.is("select")&&$.each(i.dataField.children("option:not([disabled])"),function(){var e=$(this),t=e.val(),e=e.text();$.trim(e).length<1&&(e=t+" (name n/a)"),i.mappedData[e]=t,i.searchableTerms.push(e)})},this.typeaheadSource=function(e,t){return t(this.searchableTerms)},this.typeaheadMatcher=function(e,t){if(-1!==e.toLowerCase().indexOf(t.trim().toLowerCase()))return!0},this.typeaheadUpdater=function(e){var t=this;return t.selection=t.mappedData[e],t.dataField.val(t.selection),t.dataField.is("select")&&t.dataField.children('option[value="'+t.selection+'"]').attr("selected",!0).prop("selected",!0),e},this.init=function(){var i=this;i.setupForm(),i.onFormSubmission(),i.checkEmptyValues(),i.setSearchTerms(),i.autocompleteField.typeahead({items:10,minLength:2,source:function(e,t){i.typeaheadSource(e,t)},matcher:function(e){var t=this.query;return i.typeaheadMatcher(e,t)},updater:function(e){return e=i.typeaheadUpdater(e)}})}},userSearchTypeahead=function(){$("#id_username_d").select2({ajax:{url:USERSELECT_URL,data:function(e){return{q:e.term}},delay:250,minimumInputLength:3},placeholder:"Search by first name, last name or NID...",language:{noResults:function(){return"No users found. User must log into the events system at least once to be added to a calendar."}}})},calendarSearchTypeahead=function(){$("#id_event-calendar").select2({ajax:{url:CALSELECT_URL,data:function(e){return{q:e.term}},delay:250,minimumInputLength:3,placeholder:"Search by calendar name..."}})},suggestedCalendarSearchTypeahead=function(){$("#id_event-submit_to_calendar").select2({ajax:{url:SUBCALSELECT_URL,data:function(e){return{q:e.term,calendar:$("#id_event-calendar").val()}},delay:250,minimumInputLength:3,placeholder:"Search by calendar name..."}})},eventLocationsTypeahead=function(e){var f;0<e.length&&(f=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("results"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:LOCATION_FEED_URL+"?q=%q",wildcard:"%q",transform:function(e){return e.results}}}),e.each(function(e,t){var i=$(t).first(),t=i.parent(".location-search").parent(".row"),n=t.find(".location-typeahead-input").first(),s=t.find(".location-selected-title"),a=t.find(".location-selected-room"),o=t.find(".location-selected-url"),r=t.find(".location-typeahead-new-btn"),l=t.find(".location-selected-remove"),c=t.find(".location-new-form"),u=c.find('input[name*="-new_location_title"]'),d=!1,h=($(function(){""!==i.val()&&l.show()}),r.on("click",function(e){e.preventDefault(),i.val()&&l.trigger("click");e=n.val();u.val(e),c.show(),l.show(),r.hide(),n.typeahead("val","")}),l.click(function(e){e.preventDefault(),c.hide(),s.hide(),a.hide(),o.hide(),l.hide(),h(),p(),i.val(""),n.val("")}),function(){s.text(""),a.text(""),o.text("")}),p=function(){c.find("input").val("")};n.typeahead({minLength:3,highlight:!0},{name:"location",displayKey:"comboname",source:f.ttAdapter()}).on("typeahead:select",function(e,t){n.val(""),r.hide(),l.show(),"None"!==t.title&&""!==t.title&&s.text(t.title).show(),"None"!==t.room&&""!==t.room&&a.text(t.room).show(),"None"!==t.url&&""!==t.url&&o.html('<a href="'+t.url+'">'+t.url+"</a>").show(),i.val(t.id)}).on("typeahead:render",function(){r.show()}).on("typeahead:cursorchange",function(e,t){d=!!t}).on("keydown focus",function(e){var t=e.keyCode||e.which;return"keydown"!==e.type||13!==t||!1!==d||(n.val().length<1||r.trigger("click"),!1)})}))},eventLocationTypes=function(e){$('button[type="submit"]').on("click",function(){e.each(function(e,t){var t=$(t),i=t.find(".location-type-field"),n=t.find(".location-type-checkbox"),t=t.find(".location-type-content");""!==i.val()&&!1===n.is(":checked")&&(0!==(n=t.find(".location-selected-remove")).length?n.trigger("click"):i.prop("value",""))})}),$(function(){e.each(function(e,t){var t=$(t),i=t.find(".location-type-field"),n=t.find(".location-type-checkbox"),t=t.find(".location-type-content");""!==i.val()?(n.prop("checked",!0),t.show()):""===i.val()&&!1===n.is(":checked")&&t.hide()})}),e.each(function(e,t){var t=$(t),i=t.find(".location-type-checkbox"),n=t.find(".location-type-content");i.on("click",function(){n.toggle()})})},eventTagging=function(){var t=$("#id_event-tags"),i=$("#event-tags-typeahead"),n=$("#add-new-tag"),s=i.parents("form"),a=null;if(t.length){var o=[],r=$("#event-tags-selected"),l=function(e){return!i.is(":focus")||(e.preventDefault(),!1)},c=function(){var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("results"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:TAG_FEED_URL+"?q=%q",wildcard:"%q",transform:function(e){return e.results}}});a=i.typeahead({minLength:3,highlight:!0},{name:"tags",displayKey:"text",source:e.ttAdapter()}).on("typeahead:select",function(e,t){u(t)}).on("typeahead:render",function(e,t,i){!1!==i&&(t.length<1?n.show():n.hide())}).on("keydown focus",function(e){var t=e.keyCode||e.which;return"keydown"!==e.type||13!==t&&188!==t||(i.val().length<1||n.trigger("click"),!1)}).on("keyup focus",function(){0===i.val().length&&n.hide()})},u=function(e){var t;-1<o.indexOf(e.text)?i.val(""):(e=p(e)).promoted?$('li[data-tag-text="'+e.text+'"]').children("a").trigger("click"):(o.push(e.text),t=$('<a href="#" class="selected-remove action-icon" alt="Remove this tag" title="Remove this tag">\n          <span class="fa fa-times fa-fw" aria-hidden="true"></span>\n          </a>').on("click",function(e){e.preventDefault(),d(e)}),t=$('<span class="badge badge-pill badge-default mb-2"><span class="tag-name">'+e.text+"</span></span>").prepend(t),$('<li class="list-inline-item" data-tag-text="'+e.text+'"></li>').prepend(t).appendTo(r),a&&a.typeahead("close"),h())},d=function(e){e.preventDefault();var t,e=$(e.target).parents("li"),i=e.data("tag-text"),e=(e.remove(),o.indexOf(i));-1<e&&o.splice(e,1),-1<eventPromotedTags.indexOf(i)&&(e=$("#event-tags-promoted"),(t=$('<a class="promoted-add badge badge-pill badge-success mb-2" href="#" alt="Add this tag" title="Add this tag"><span class="action-icon"><span class="fa fa-plus fa-fw" aria-hidden="true"></span></span><span class="tag-name">'+i+"</span></a>")).on("click",f),i=$('<li class="list-inline-item" data-tag-text="'+i+'"></li>'),t.appendTo(i),i.appendTo(e),m()),h()},h=function(){var e=o.join(",");-1!==!e.indexOf(",",e.length-1)&&""!==e&&(e+=","),t.val(e),i.val(""),n.hide()},p=function(e){return e.text=$.trim(e.text.replace(/([^a-zA-Z0-9\s-!$#%&+|:?'])/g,"")),e},f=function(e){e.preventDefault();var e=$(e.target).closest(".promoted-add"),t=e.text();u({id:null,text:t,score:0}),e.parents("li").remove(),m()},m=function(){$("#event-tags-promoted li").length<=0?$(".empty-promoted-tags").removeClass("d-none"):$(".empty-promoted-tags").addClass("d-none")};$(function(){var e;t.hide(),e=(e=t.val().trim())?e.split(","):[],$.each(e,function(e,t){u({id:null,text:t,score:0})}),c(),s.on("submit",l),h()}),n.on("click",function(e){e.preventDefault();e=i.val().trim();u({id:null,text:e,score:0})});for(var e=t.val().trim(),g=e?e.split(","):[],v=0;v<g.length;v++)g[v]=$.trim(g[v].replace(/([^a-zA-Z0-9\s-!$#%&+|:?'])/g,""));$(".promoted-add").each(function(e,t){var t=$(t),i=t.children(".tag-name").text();-1!==$.inArray(i,g)&&t.parent().remove()}),m(),$(".promoted-add").on("click",f)}},eventRegistrationFields=function(){var e=$("#id_event-registration_checkbox"),t=$("#event-registration-fields"),i=$("#id_event-registration_link"),n=$("#id_event-registration_info");(i.val()||t.hasClass("error"))&&(e.prop("checked",!0),t.show()),e.on("change",function(){t.slideToggle(300)}),$('button[type="submit"]').on("click",function(){""!==i.val()&&!1===e.is(":checked")&&(i.prop("value",""),n.prop("value",""))})};function cloneableEventInstances(){var i,a,n,s,o,r,e;function l(e,t,i){e.attr("id",i);for(var n=e.find("checkbox, input, select, label"),s=e.find(".remove-instance"),a=new RegExp(t,"gm"),o=0;o<n.length;o++){var r=n.eq(o),l=r.attr("for"),c=r.attr("id"),u=r.attr("name");l&&r.attr("for",l.replace(a,i)),c&&r.attr("id",c.replace(a,i)),u&&r.attr("name",u.replace(a,i))}return s.attr("data-instance","#"+i),e}function t(){var e,t;p()<r?(e=n.clone(!1),t=a.find(".event-instance"),t=o+"-"+t.length,(e=l(e,e.attr("id"),t)).addClass("clone").hide().insertAfter(a.find(".event-instance:last")).slideDown(300),m(e),t=parseInt(s.val(),10)+1,s.val(t),a.trigger("formChanged")):window.alert("Sorry, an event cannot have more than "+r+" unique event instances.")}function c(e){e.preventDefault(),t()}function u(){var e=$(this);if(e.hasClass("clone")){e.remove();for(var t=a.find(".event-instance"),i=0;i<t.length;i++){var n,s=t.eq(i);s.hasClass("clone")&&(n=o+"-"+i,l(s,s.attr("id"),n),m(s))}}else e.addClass("event-instance-removed").find("#id_"+e.attr("id")+"-DELETE").prop("checked",!0);a.trigger("formChanged")}function d(e){var t=p(),i=e.hasClass("clone");1<t&&(e.slideUp(300,u),i)&&(t=parseInt(s.val(),10)-1,s.val(t))}function h(e){e.preventDefault();e=$(e.target);d(a.find(e.attr("data-instance")))}function p(){return a.find(".event-instance:not(.event-instance-removed)").length}function f(){var e,t;e=p(),t=a.find(".remove-instance"),1===e?t.addClass("d-none"):t.removeClass("d-none"),p()<r?i.removeClass("disabled"):i.addClass("disabled")}function m(e){e.off("click",".remove-instance",h),e.on("click",".remove-instance",h),initiateDatePickers(e.find(".field-date")),initiateTimePickers(e.find(".field-time")),eventLocationsTypeahead(e.find(".location-dropdown")),eventLocationTypes(e.find(".location-type"))}if((a=$("#event-instance-form")).length){o=a.attr("data-form-prefix"),e=o+"-__prefix__",n=a.find("#"+e).detach(),i=a.find("#cloner"),s=a.siblings("#id_"+o+"-TOTAL_FORMS"),r=parseInt(a.siblings("#id_"+o+"-MAX_NUM_FORMS").val(),10),i.removeClass("d-none").on("click",c);for(var g=a.find(".event-instance"),v=0;v<g.length;v++)m(g.eq(v));a.on("formChanged",f).trigger("formChanged")}}var eventContactInfo=function(){var i=$("#add-user-contact-info");"undefined"!=typeof usersFullName&&"undefined"!=typeof usersEmail?i.on("change",function(){var e=$("#id_event-contact_name"),t=$("#id_event-contact_email");usersFullName&&usersEmail&&(i.is(":checked")?(e.val(usersFullName),t.val(usersEmail)):e.val()===usersFullName&&t.val()===usersEmail&&(e.val(""),t.val("")))}):i.parent().hide()},initiateWysiwygs=function(){$(".wysiwyg").length&&tinyMCE.init({selector:".wysiwyg",browser_spellcheck:!0,plugins:"link paste autoresize lists",valid_elements:"p[style],span[style],br,strong/b,em/i,u,a[href|title|style|alt|target=_blank],ul,ol,li",valid_styles:{p:"font-weight,text-decoration",span:"font-weight,text-decoration",a:"font-weight,text-decoration"},statusbar:!1,menubar:!1,toolbar:"bold italic underline | bullist numlist | link",autoresize_bottom_margin:10,min_height:400,theme:"silver"})};$(function(){bulkSelectAll(),bulkActionSubmit(),toggleModalMergeObject(),calendarOwnershipModal(),toggleModalUserDemote(),initiateReReviewCopy(),userSearchTypeahead(),calendarSearchTypeahead(),suggestedCalendarSearchTypeahead(),eventTagging(),eventRegistrationFields(),cloneableEventInstances(),eventContactInfo(),initiateWysiwygs()});